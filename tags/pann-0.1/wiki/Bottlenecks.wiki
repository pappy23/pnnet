#summary Откуда берутся тормоза?

Профилирование показало:
 # BOOST_FOREACH - стремная штука, которая делает кучу вложенных вызовов. А еще в куче мест shared_ptr копируется, а не получается по ссылке. Короче сначала надо все места с этим макросом оптимизировать, а потом и сам макрос убрать, если не поможет
 # мега-аттрибуты. Удобно. Особенно если мы еще сделаем аттрибуты с произвольным типом. Но это ацки медленно. Еще во многих критических местах сначала проверяется наличие аттрибута, что тоже медленно. Короче они ОЧЕНЬ медленные.